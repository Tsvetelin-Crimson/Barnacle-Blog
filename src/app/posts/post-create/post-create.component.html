<form class="form" [formGroup]="postForm" (ngSubmit)="createPost()">
    <p style="align-self: center;">Create post!</p>
    <p *ngIf="error != ''" class="error-text">{{error}}</p>

    <label for="title" class="form-label">Title</label>
    <div class="form-item ">
        <input type="text" name="title" class="form-input" formControlName="title">
    </div>
    <div class="form-item" *ngIf="postForm.get('title')?.touched && postForm.get('title')?.errors !== undefined">
        <span class="error-text">Title is required with a minimum length of 5 letters and a maximum of 30!</span>
    </div>

    <label for="preview" class="form-label">Preview</label>
    <div class="form-item ">
        <input type="text" name="preview" class="form-input"  formControlName="preview">
    </div>
    <div class="form-item" *ngIf="postForm.get('preview')?.touched && postForm.get('preview')?.errors !== undefined">
        <span class="error-text">Preview must be at most 30 letters long!</span>
    </div>

    <label for="content" class="form-label">Content</label>
    <div class="form-item ">
        <textarea name="content" rows="20" cols="40" class="form-input" formControlName="content"></textarea>
    </div>
    <div class="form-item" *ngIf="postForm.get('content')?.touched && postForm.get('content')?.errors !== undefined">
        <span class="error-text">Content is required with a minimum length of 10 symbols!</span>
    </div>

    <label for="category" class="form-label">Category</label>
    <div class="form-item post-category">
        <!-- TODO: MAKE OPTIONS -->
        <!-- <textarea name="category" class="form-input" required #categotyElement [formControl]="categoryControl"></textarea> -->
        <select name="category" id="" formControlName="category">
            <option class="post-select" value="{{category.id}}" *ngFor="let category of categories | async">{{category.value}}</option>
        </select>
    </div>
    <div class="form-item" *ngIf="postForm.get('category')?.touched && postForm.get('category')?.errors !== undefined">
        <span class="error-text">Category is required!</span>
    </div>

    <div class="form-item">
        <button class="button-item">Submit</button>
    </div>
</form>